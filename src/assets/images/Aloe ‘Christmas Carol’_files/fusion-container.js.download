function initScrollingSections(){var n,i,t,e=jQuery("#content").find(".fusion-scroll-section"),s=(Number(fusionContainerVars.is_sticky_header_transparent)||"function"!=typeof getStickyHeaderHeight?0:getStickyHeaderHeight(!0))+(jQuery("#wpadminbar").length?parseInt(jQuery("#wpadminbar").height(),10):0);e.length&&(jQuery("#content").find(".non-hundred-percent-height-scrolling").length||1!==e.length||jQuery.trim(jQuery("#sliders-container").html())||(e.addClass("active"),e.find(".fusion-scroll-section-nav li:first a").addClass("active"),i=!0),e.each(function(){var e=fusionContainerVars.hundred_percent_scroll_sensitivity<1?100:100*fusionContainerVars.hundred_percent_scroll_sensitivity;1<jQuery(this).children("div").length&&(t=s?"calc("+(jQuery(this).children("div").size()*e+e/2)+"vh - "+s+"px)":jQuery(this).children("div").size()*e+e/2+"vh",jQuery(this).css("height",t),s&&(jQuery(this).find(".hundred-percent-height-scrolling").css("height","calc(100vh - "+s+"px)"),jQuery(this).find(".fusion-scroll-section-nav").css("top","calc(50% + "+s/2+"px)")))}),n=jQuery(window).scrollTop(),jQuery(window).scroll(function(){var e=jQuery(window).scrollTop();jQuery(".fusion-scroll-section").each(function(){1<jQuery(this).children("div").length&&!jQuery(this).hasClass("fusion-scroll-section-mobile-disabled")&&jQuery(this).fusionPositionScrollSectionElements(n,e,i)}),n=e}),jQuery(".fusion-scroll-section-link").on("click",function(e){var n=jQuery(this).parents(".fusion-scroll-section"),i=n.offset().top,t=Math.ceil(n.outerHeight()),s=parseInt(jQuery(this).parents(".fusion-scroll-section-nav").find(".fusion-scroll-section-link.active").data("element"),10),o=parseInt(jQuery(this).data("element"),10),r=Math.abs(o-s),l=(350+30*(r-1))*r;e.preventDefault(),0!==r&&(20<r&&(l=950*r),jQuery(window).scrollTop()===Math.floor(i+t)-jQuery(window).height()&&jQuery(window).scrollTop(i+jQuery(window).height()*fusionContainerVars.hundred_percent_scroll_sensitivity*(n.find(".fusion-scroll-section-element").length-1)),jQuery("html, body").animate({scrollTop:i+jQuery(window).height()*fusionContainerVars.hundred_percent_scroll_sensitivity*(o-1)},l,"linear"))})),jQuery(".hundred-percent-height").length&&(setCorrectResizeValuesForScrollSections(),jQuery(window).on("resize",function(){setCorrectResizeValuesForScrollSections()}))}function setCorrectResizeValuesForScrollSections(){var e=jQuery("#content").find(".fusion-scroll-section"),n=0,i=0,t=jQuery("#wpadminbar").length?parseInt(jQuery("#wpadminbar").height(),10):0;e.length&&(jQuery(".fusion-scroll-section.active").find(".fusion-scroll-section-element").css({left:jQuery("#content").offset().left}),jQuery(".fusion-scroll-section").find(".fusion-scroll-section-element").css({width:jQuery("#content").width()}),0==fusionContainerVars.container_hundred_percent_height_mobile&&(Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")?(jQuery(".fusion-scroll-section").removeClass("active").addClass("fusion-scroll-section-mobile-disabled"),jQuery(".fusion-scroll-section").attr("style",""),jQuery(".fusion-scroll-section").find(".fusion-scroll-section-element").attr("style",""),jQuery(".fusion-scroll-section").find(".hundred-percent-height-scrolling").css("height","auto"),jQuery(".fusion-scroll-section").find(".fusion-fullwidth-center-content").css("height","auto")):jQuery(".fusion-scroll-section").hasClass("fusion-scroll-section-mobile-disabled")&&(jQuery(".fusion-scroll-section").find(".fusion-fullwidth-center-content").css("height",""),Number(fusionContainerVars.is_sticky_header_transparent)||"function"!=typeof getStickyHeaderHeight||(n=getStickyHeaderHeight(!0)),i=n+t,e.each(function(){var e=fusionContainerVars.hundred_percent_scroll_sensitivity<1?100:100*fusionContainerVars.hundred_percent_scroll_sensitivity;1<jQuery(this).children("div").length&&(jQuery(this).css("height",jQuery(this).children("div").size()*e+e/2+"vh"),jQuery(this).find(".hundred-percent-height-scrolling").css("height","calc(100vh - "+i+"px)"))}),scrollToCurrentScrollSection()))),jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").length&&(Number(fusionContainerVars.is_sticky_header_transparent)||"function"!=typeof getStickyHeaderHeight||(n=getStickyHeaderHeight(!0)),i=n+t,0==fusionContainerVars.container_hundred_percent_height_mobile&&(Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")?(jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").css("height","auto"),jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").find(".fusion-fullwidth-center-content").css("height","auto")):(jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").css("height","calc(100vh - "+i+"px)"),jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").find(".fusion-fullwidth-center-content").css("height",""))))}function scrollToCurrentScrollSection(){var s=Math.ceil(jQuery(window).scrollTop()),e=jQuery(window).height(),o=Math.floor(s+e),n=Number(fusionContainerVars.is_sticky_header_transparent)||"function"!=typeof getStickyHeaderHeight?0:getStickyHeaderHeight(!0),i=jQuery("#wpadminbar").length?parseInt(jQuery("#wpadminbar").height(),10):0;s+=n+i,jQuery(".fusion-page-load-link").hasClass("fusion-page.load-scroll-section-link")||jQuery(".fusion-scroll-section").each(function(){var e=jQuery(this),n=Math.ceil(e.offset().top),i=Math.ceil(e.outerHeight()),t=Math.floor(n+i);n<=s&&o<=t?(e.addClass("active"),jQuery("html, body").animate({scrollTop:n-50},{duration:50,easing:"easeInExpo",complete:function(){jQuery("html, body").animate({scrollTop:n},{duration:50,easing:"easeOutExpo",complete:function(){Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")||jQuery(".fusion-scroll-section").removeClass("fusion-scroll-section-mobile-disabled")}})}})):Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")||jQuery(".fusion-scroll-section").removeClass("fusion-scroll-section-mobile-disabled")})}jQuery(window).on("load fusion-element-render-fusion_builder_container resize",function(e,n){var i=void 0!==n?jQuery('div[data-cid="'+n+'"]').find(".fullwidth-faded"):jQuery(".fullwidth-faded"),t=void 0!==n?jQuery('div[data-cid="'+n+'"]').find(".hundred-percent-height"):jQuery(".hundred-percent-height"),s=Number(fusionContainerVars.is_sticky_header_transparent)||"function"!=typeof getStickyHeaderHeight?0:getStickyHeaderHeight(!0),o=jQuery("#wpadminbar").length?parseInt(jQuery("#wpadminbar").height(),10):0,r=jQuery("body").hasClass("fusion-builder-live")&&!jQuery("body").hasClass("fusion-builder-preview-mode"),l=s+o;i.fusionScroller({type:"fading_blur"}),t.css("min-height","").css("height",""),t.find(".fusion-fullwidth-center-content").css("min-height",""),0==fusionContainerVars.container_hundred_percent_height_mobile&&Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")?(t.css("height","auto"),r&&(t.css("min-height","0"),t.find(".fusion-fullwidth-center-content").css("min-height","0"))):(t.css("height","calc(100vh - "+l+"px)"),r&&(t.css("min-height","calc(100vh - "+l+"px)"),t.find(".fusion-fullwidth-center-content").css("min-height","calc(100vh - "+l+"px)")))}),jQuery(document).ready(function(){initScrollingSections(),Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")&&jQuery(".fullwidth-faded").each(function(){var e=jQuery(this).css("background-image"),n=jQuery(this).css("background-color");jQuery(this).parent().css("background-image",e),jQuery(this).parent().css("background-color",n),jQuery(this).remove()})}),jQuery(window).on("load",function(){jQuery("#content").find(".fusion-scroll-section").length&&void 0===jQuery(".fusion-page-load-link").attr("href")&&setTimeout(function(){scrollToCurrentScrollSection()},400)}),function(v){"use strict";v.fn.fusionPositionScrollSectionElements=function(e,n,i){var t,s,o,r,l,c,a=v(this),d=Math.ceil(a.offset().top),u=Math.ceil(a.outerHeight()),h=Math.floor(d+u),f=Math.ceil(v(window).scrollTop()),y=v(window).height(),p=Math.floor(f+y),g=a.find(".fusion-scroll-section-element").length,m=0;if(y*=fusionContainerVars.hundred_percent_scroll_sensitivity,i=i||!1,s=v("#wpadminbar").length?parseInt(v("#wpadminbar").height(),10):0,f+=s+=Number(fusionContainerVars.is_sticky_header_transparent)||"function"!=typeof getStickyHeaderHeight?0:getStickyHeaderHeight(!0),t=v("#content").width(),o=v("#content").offset().left,i||(d<=f&&p<=h?a.addClass("active"):a.removeClass("active")),e<n){for(p=Math.floor(Math.ceil(v(window).scrollTop())+y),h=fusionContainerVars.hundred_percent_scroll_sensitivity<1?Math.floor(d+u*fusionContainerVars.hundred_percent_scroll_sensitivity):Math.floor(d+u),r=1;r<g;r++)d+y*r<=f&&f<d+y*(r+1)&&(m=r+1);d<=f&&f<d+y?(a.find(".fusion-scroll-section-element").removeClass("active"),a.children(":nth-child(1)").addClass("active"),a.find(".fusion-scroll-section-nav a").removeClass("active"),a.find('.fusion-scroll-section-nav a[data-element="'+a.children(":nth-child(1)").data("element")+'"] ').addClass("active"),a.find(".fusion-scroll-section-element").css({position:"fixed",top:s,left:o,padding:"0 0",width:t}),a.children(":nth-child(1)").css("display","block")):h<=p&&"absolute"!==a.find(".fusion-scroll-section-element").last().css("position")?(a.find(".fusion-scroll-section-element").removeClass("active"),a.find(".fusion-scroll-section-element").last().addClass("active"),a.find(".fusion-scroll-section-element").css("position","absolute"),a.find(".fusion-scroll-section-element").last().css({top:"auto",left:"0",bottom:"0",padding:""}),v(window).scrollTop(Math.floor(d+Math.ceil(a.outerHeight()))-v(window).height())):0<m&&!a.children(":nth-child("+m+")").hasClass("active")&&(a.find(".fusion-scroll-section-element").removeClass("active"),a.children(":nth-child("+m+")").addClass("active"),a.find(".fusion-scroll-section-nav a").removeClass("active"),a.find('.fusion-scroll-section-nav a[data-element="'+a.children(":nth-child("+m+")").data("element")+'"] ').addClass("active"),m===g&&(l=window.pageYOffset||document.documentElement.scrollTop,c=window.pageXOffset||document.documentElement.scrollLeft,window.onscroll=function(){window.scrollTo(c,l)},setTimeout(function(){v(window).scrollTop(Math.floor(d+Math.ceil(a.outerHeight()))-v(window).height()),window.onscroll=function(){}},450)))}else if(n<e){for(r=1;r<g;r++)f<d+y*r&&d+y*(r-1)<f&&(m=r);p<=h&&d+y*(g-1)<f&&"fixed"!==a.find(".fusion-scroll-section-element").last().css("position")?(a.find(".fusion-scroll-section-element").removeClass("active"),a.find(".fusion-scroll-section-element").last().addClass("active"),a.find(".fusion-scroll-section-nav a").removeClass("active"),a.find('.fusion-scroll-section-nav a[data-element="'+a.find(".fusion-scroll-section-element").last().data("element")+'"] ').addClass("active"),a.find(".fusion-scroll-section-element").css({position:"fixed",top:s,left:o,padding:"0 0",width:t}),a.find(".fusion-scroll-section-element").last().css("display","block"),v(window).scrollTop(d+y*(g-1))):(f<=d||0===v(window).scrollTop()&&a.find(".fusion-scroll-section-element").first().hasClass("active"))&&""!==a.find(".fusion-scroll-section-element").first().css("position")?(a.find(".fusion-scroll-section-element").removeClass("active"),a.find(".fusion-scroll-section-element").first().addClass("active"),a.find(".fusion-scroll-section-element").css("position",""),a.find(".fusion-scroll-section-element").first().css("padding","")):0<m&&!a.children(":nth-child("+m+")").hasClass("active")&&(a.find(".fusion-scroll-section-element").removeClass("active"),a.children(":nth-child("+m+")").addClass("active"),a.find(".fusion-scroll-section-nav a").removeClass("active"),a.find('.fusion-scroll-section-nav a[data-element="'+a.children(":nth-child("+m+")").data("element")+'"] ').addClass("active"))}}}(jQuery);